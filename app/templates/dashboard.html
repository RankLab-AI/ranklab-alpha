<!DOCTYPE html>
<html lang="en">
<head>
  <meta charset="UTF-8" />
  <title>Dashboard ‚Äì RankLab AI</title>
  <meta name="viewport" content="width=device-width, initial-scale=1.0" />
  <link rel="icon" href="/static/img/icon.png" />
  <link rel="stylesheet" href="https://unpkg.com/tachyons/css/tachyons.min.css" />
  <link rel="stylesheet" href="/static/css/styles.css" />
  <link href="https://fonts.googleapis.com/icon?family=Material+Icons+Outlined" rel="stylesheet" />
</head>

<body class="bg-near-white">
  <div class="flex">
    {% include "partials/sidebar.html" %}
    <main class="flex-auto pa4">
      <div class="flex justify-between items-center mb4">
        <h1 class="f3 fw6">RankLabAI Dashboard</h1>
        <button class="br2 ph3 pv2 bg-blue white b--blue">üîÅ Set Weekly Alerts</button>
      </div>

      <!-- 3-column grid -->
      <div class="flex flex-wrap -ml3">
        <div class="w-100 w-50-m w-33-l pa3">
          <div class="bg-white pa3 br3 shadow-1 h-100 flex flex-column">
            <h2 class="f4 fw6 mb3">Notifications & Insights</h2>
            <ul class="list pl0 ml0 mb3">
              <li class="green">‚úîÔ∏è +5 pages optimized this week</li>
              <li class="green">üìà Avg. GEO score improved by 12%</li>
              <li class="red">üîî New LLM mention detected for your brand</li>
              <li class="red">üîî Competitor outranking on 3 keywords</li>
            </ul>
            <button class="mt-auto br2 ph3 pv2 bg-light-gray black">View All</button>
          </div>
        </div>

        <div class="w-100 w-50-m w-33-l pa3">
          <div class="bg-white pa3 br3 shadow-1 h-100 flex flex-column items-center justify-center">
            <h2 class="f4 fw6 mb3">Total Pages Audited</h2>
            <canvas id="pagesChart" width="300" height="200"></canvas>
            <p class="f6 black-60 mt3 tc">Pages Optimized vs Needs Improvement</p>
          </div>
        </div>

        <div class="w-100 w-50-m w-33-l pa3">
          <div class="bg-white pa3 br3 shadow-1 h-100">
            <h2 class="f4 fw6 mb3">Recent Actions</h2>
            <ul class="list pl0 ml0">
              <li class="mv2"><label><input type="checkbox" /> Audit blog homepage</label></li>
              <li class="mv2"><label><input type="checkbox" /> Fix low GEO score landing page</label></li>
              <li class="mv2"><label><input type="checkbox" /> Regenerate product descriptions with LLM</label></li>
              <li class="mv2"><label><input type="checkbox" /> Review competitor snippet rankings</label></li>
              <li class="mv2"><label><input type="checkbox" /> Update author schema on 3 articles</label></li>
            </ul>
          </div>
        </div>
      </div>

      <!-- Trends -->
      <div class="bg-white pa3 br3 shadow-1 mb4">
        <div class="flex justify-between items-center mb2">
          <h2 class="f4 fw6">GEO & SEO Score Trends</h2>
          <select class="pa2 br2 b--black-20">
            <option>Last 30 days</option>
            <option>Last 60 days</option>
            <option>Custom</option>
          </select>
        </div>
        <canvas id="trendChart" width="600" height="200"></canvas>
      </div>

      <!-- Bottom Tools -->
      <div class="flex flex-wrap -ml3 mt4">
        <div class="w-100 w-50-m w-33-l pa3">
          <div class="bg-white pa4 br3 shadow-1 h-100 flex items-center justify-center">
            <button onclick="window.location.href='/brand-protector'" class="w-100 pa4 br3 bg-green white fw6 f5">
              üü¢ Brand Guard
            </button>
          </div>
        </div>
        <div class="w-100 w-50-m w-33-l pa3">
          <div class="bg-white pa4 br3 shadow-1 h-100 flex items-center justify-center">
            <button onclick="window.location.href='/content-doctor'" class="w-100 pa4 br3 bg-light-purple white fw6 f5">
              üü£ Content Doctor
            </button>
          </div>
        </div>
        <div class="w-100 w-50-m w-33-l pa3">
          <div class="bg-white pa4 br3 shadow-1 h-100 flex items-center justify-center">
            <button onclick="window.location.href='/query-research'" class="w-100 pa4 br3 bg-gold white fw6 f5">
              üü† Query Search
            </button>
          </div>
        </div>
      </div>
    </main>
  </div>
  <!-- Chart.js library -->
  <script src="https://cdn.jsdelivr.net/npm/chart.js"></script>
  <script>
    const ctx = document.getElementById('pagesChart').getContext('2d');
    new Chart(ctx, {
      type: 'bar',
      data: {
        labels: ['Optimized', 'Needs Improvement', 'Not Audited'],
        datasets: [{
          label: '# of Pages',
          data: [12, 8, 5],  // mock numbers
          backgroundColor: ['#2ecc71', '#9f7aea', '#f1c40f']
        }]
      },
      options: {
        responsive: true,
        plugins: {
          legend: { display: false },
          title: { display: true, text: 'Page Audit Status' }
        },
        scales: {
          y: { beginAtZero: true }
        }
      }
    });
  </script>
  <script>
    const trendCtx = document.getElementById('trendChart').getContext('2d');
    new Chart(trendCtx, {
      type: 'line',
      data: {
        labels: Array.from({length:30}, (_,i)=>`Day ${i+1}`),
        datasets: [
          {
            label: "Your Brand",
            data: Array.from({length:30}, (_,i)=>50 + i*0.8),
            borderColor: '#2ecc71',
            backgroundColor: 'rgba(46, 204, 113, 0.1)',
            fill: false,
            tension: 0.3
          },
          {
            label: "Competitor 1",
            data: Array.from({length:30}, (_,i)=>95 + i*-0.2),
            borderColor: '#9f7aea',
            backgroundColor: 'rgba(159, 122, 234, 0.1)',
            fill: false,
            tension: 0.3
          },
          {
            label: "Competitor 2",
            data: Array.from({length:30}, (_,i)=>30 + i*0.5),
            borderColor: '#f1c40f',
            backgroundColor: 'rgba(241, 196, 15, 0.1)',
            fill: false,
            tension: 0.3
          }
        ]
      },
      options: {
        responsive: true,
        plugins: {
          title: {
            display: true,
            text: '7-Day Performance Trend'
          },
          legend: {
            display: true
          }
        },
        scales: {
          y: {
            beginAtZero: false
          }
        }
      }
    });
  </script>
  </div>
</body>
</html>
